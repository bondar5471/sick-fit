{"version":3,"file":"static/webpack/static/development/pages/_app.js.6dc72ddc423d6abce668.hot-update.js","sources":["webpack:///./components/Cart.js"],"sourcesContent":["import React from 'react'\nimport { Query, Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport { adopt } from 'react-adopt'\nimport User from '../components/User'\nimport SickButton from './styles/SickButton';\nimport CartStyles from './styles/CartStyles'\nimport Supreme from './styles/Supreme'\nimport CloseButton from './styles/CloseButton'\nimport CartItem from './CartItem'\nimport  calcTotalPrice  from '../lib/calcTotalPrice'\nimport formatMoney from '../lib/formatMoney'\nimport TakeMyMoney from './TakeMyMoney'\n\nconst LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`\nconst TOGGLE_CART_MUTATIOM = gql `\n  mutation {\n    toggleCart @client\n  }\n` \nconst Composed = adopt({\n  user: ({render}) => <User>{render}</User>,\n  toggleCart: ({render}) => <Mutation mutation={TOGGLE_CART_MUTATIOM}>{render}</Mutation>,\n  localState: ({render}) => <Query query={LOCAL_STATE_QUERY}>{render}</Query>\n})\n\nconst Cart = () => (\n  <Composed>\n    {({user, toggleCart, localState}) => {\n      const me = user.data.me\n      if(!me) return null\n      return (\n        <CartStyles onClick={toggleCart} open={localState.data.cartOpen}>\n        <header>\n          <CloseButton title=\"close\">&times;</CloseButton>\n          <Supreme>{me.name}'s Cart</Supreme>\n          <p> You have {me.cart.length} item{me.cart.length === 1 ? '' : 's'} in your cart</p>\n        </header>\n        <ul>\n          {me.cart.map(cartItem => <CartItem key={cartItem.id} cartItem={cartItem}/>)}\n        </ul>\n        <footer>\n          <p>{formatMoney(calcTotalPrice(me.cart))}</p>\n          \n          {me.cart.length && (\n             <TakeMyMoney>\n               <SickButton>Checkout</SickButton>\n             </TakeMyMoney>\n          )}\n        </footer>\n        </CartStyles>\n    )\n  }}\n</Composed> \n)\n\nexport default Cart\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATIOM }"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AA1BA;AACA;AA6BA;;;;;A","sourceRoot":""}